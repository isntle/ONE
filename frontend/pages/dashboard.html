<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | ONE</title>
    <link rel="stylesheet" href="../assets/css/base.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css?v=2">
    <link rel="icon" href="../assets/img/ONE.ico" type="image/x-icon">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="../assets/js/icons.js?v=20"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="layout-app">
        <header class="encabezado-app">
            <div class="logo-app"><img src="../assets/img/ONE.ico" alt="Logo ONE"> ONE</div>
            <div class="selector-espacios">
                <button class="boton-espacio activo-espacio" data-espacio="Personal">
                    <i data-app-icon="user"></i> Personal
                </button>
                <button class="boton-espacio" data-espacio="Escuela">
                    <i data-app-icon="graduation-cap"></i> Escuela
                </button>
                <button class="boton-espacio" data-espacio="Trabajo">
                    <i data-app-icon="briefcase"></i> Trabajo
                </button>
            </div>
            <div class="usuario-superior">
                <div class="perfil-usuario-wrapper"
                    style="display: flex; align-items: center; gap: 12px; cursor: pointer;">
                    <span class="inicial-usuario">L</span>
                    <span class="nombre-usuario" style="font-weight: 500;">Luis Ernesto</span>
                </div>
            </div>
        </header>

        <div class="cuerpo-app">
            <aside class="menu-lateral">
                <h2 class="titulo-menu">Vistas</h2>
                <nav class="nav-lateral-container">
                    <a href="semana.html" class="opcion-menu"><i data-app-icon="calendar"></i> Semana</a>
                    <a href="proyectos.html" class="opcion-menu"><i data-app-icon="layout-grid"></i> Proyectos</a>
                    <a href="habitos.html" class="opcion-menu"><i data-app-icon="check-circle"></i> Hábitos</a>
                    <a href="finanzas.html" class="opcion-menu" data-espacios="Personal"><i
                            data-app-icon="bar-chart-dollar"></i> Finanzas</a>
                    <a href="horario.html" class="opcion-menu" data-espacios="Escuela"><i data-app-icon="agenda"></i>
                        Horario</a>
                    <a href="dashboard.html" class="opcion-menu activo-menu"><i data-app-icon="bar-chart-3"></i>
                        Dashboard</a>
                </nav>

                <h2 class="titulo-menu">Herramientas</h2>
                <div class="menu-inferior">
                    <a href="focus.html" class="opcion-menu"><i data-app-icon="zap"></i> Modo Enfoque</a>
                    <a href="capacidad.html" class="opcion-menu"><i data-app-icon="gauge"></i> Capacidad</a>
                </div>
            </aside>

            <main class="zona-contenido">
                <div class="welcome-card">
                    <div>
                        <h1>Bienvenido de vuelta </h1>
                        <p id="fecha-actual"></p>
                    </div>
                    <button class="btn-primary" onclick="window.location.href='semana.html'">
                        Ver Semana
                        <i data-lucide="arrow-right"></i>
                    </button>
                </div>

                <!-- Tarjeta de Frase (Integración API) -->
                <div class="dashboard-card quote-card"
                    style="margin-bottom: 20px; border-left: 4px solid var(--color-acento); display: flex; align-items: start; gap: 15px;">
                    <i data-app-icon="sparkles"
                        style="width: 24px; height: 24px; color: var(--color-acento); flex-shrink: 0; margin-top: 4px;"></i>
                    <div>
                        <blockquote id="quote-content"
                            style="font-style: italic; font-size: 1.1rem; color: var(--color-texto-blanco); margin: 0 0 8px 0;">
                            Cargando dosis de inspiración...
                        </blockquote>
                        <cite id="quote-author"
                            style="font-size: 0.9rem; color: var(--color-texto-tenue); font-style: normal;">
                            — ONE AI
                        </cite>
                    </div>
                </div>
                <div class="grid-stats">
                    <div class="stat-card">
                        <div class="stat-icon green">
                            <i data-lucide="check-circle-2"></i>
                        </div>
                        <div>
                            <p class="stat-label">Tareas Hoy</p>
                            <h2 class="stat-value" id="stat-hoy">0</h2>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <i data-lucide="trending-up"></i>
                        </div>
                        <div>
                            <p class="stat-label">Esta Semana</p>
                            <h2 class="stat-value" id="stat-semana">0</h2>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon yellow">
                            <i data-lucide="clock"></i>
                        </div>
                        <div>
                            <p class="stat-label">Horas de Enfoque</p>
                            <h2 class="stat-value" id="stat-focus">0h</h2>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon red">
                            <i data-lucide="flame"></i>
                        </div>
                        <div>
                            <p class="stat-label">Racha</p>
                            <h2 class="stat-value" id="stat-racha">0 días</h2>
                        </div>
                    </div>
                </div>

                <!-- Gráfico de Tendencia Semanal -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3><i data-lucide="activity"></i> Tendencia Semanal</h3>
                        <span class="badge" id="completion-badge">0% completitud</span>
                    </div>
                    <canvas id="weekly-trend-chart"></canvas>
                </div>

                <!-- Distribución por Espacios -->
                <div class="dashboard-card">
                    <h3><i data-lucide="pie-chart"></i> Distribución por Espacios</h3>
                    <div id="space-distribution" style="height: 250px; position: relative;"></div>
                </div>

                <!-- Vista Previa de Tareas de Hoy -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3><i data-app-icon="calendar"></i> Tareas de Hoy</h3>
                        <a href="semana.html" class="link-action">Ver Todas <i data-lucide="arrow-right"></i></a>
                    </div>
                    <div id="today-tasks-list"></div>
                </div>

            </main>
        </div>
    </div>

    <script src="../assets/js/db.js?v=17"></script>
    <script src="../assets/js/store.js?v=17"></script>
    <script src="../assets/js/dashboard.js?v=17"></script>
    <script src="../assets/js/ui.js?v=17"></script>
    <script src="../assets/js/app.js?v=17"></script>
</body>

</html>